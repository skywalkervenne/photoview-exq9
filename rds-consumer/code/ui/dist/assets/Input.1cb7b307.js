import{v as L,w as j,x as I,D as R,r as a,y as A,z as U,B as D,j as b,f as m,a as N,s as K,t as S}from"./index.ed54fe83.js";function F(r,t){var n=j(t==null?void 0:t.client);I(r,R.Mutation);var d=a.exports.useState({called:!1,loading:!1,client:n}),o=d[0],f=d[1],e=a.exports.useRef({result:o,mutationId:0,isMounted:!0,client:n,mutation:r,options:t});Object.assign(e.current,{client:n,options:t,mutation:r});var M=a.exports.useCallback(function(i){i===void 0&&(i={});var h=e.current,u=h.client,E=h.options,c=h.mutation,w=L(L({},E),{mutation:c});!e.current.result.loading&&!w.ignoreResults&&f(e.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:u});var y=++e.current.mutationId,s=A(w,i);return u.mutate(s).then(function(l){var v,p,g,C=l.data,k=l.errors,T=k&&k.length>0?new U({graphQLErrors:k}):void 0;if(y===e.current.mutationId&&!s.ignoreResults){var _={called:!0,loading:!1,data:C,error:T,client:u};e.current.isMounted&&!D(e.current.result,_)&&f(e.current.result=_)}return(p=(v=e.current.options)===null||v===void 0?void 0:v.onCompleted)===null||p===void 0||p.call(v,l.data),(g=i.onCompleted)===null||g===void 0||g.call(i,l.data),l}).catch(function(l){var v,p,g,C;if(y===e.current.mutationId&&e.current.isMounted){var k={loading:!1,error:l,data:void 0,called:!0,client:u};D(e.current.result,k)||f(e.current.result=k)}if(((v=e.current.options)===null||v===void 0?void 0:v.onError)||s.onError)return(g=(p=e.current.options)===null||p===void 0?void 0:p.onError)===null||g===void 0||g.call(p,l),(C=i.onError)===null||C===void 0||C.call(i,l),{data:void 0,errors:l};throw l})},[]),x=a.exports.useCallback(function(){f({called:!1,loading:!1,client:n})},[]);return a.exports.useEffect(function(){return e.current.isMounted=!0,function(){e.current.isMounted=!1}},[]),[M,L({reset:x},o)]}const Z=r=>a.exports.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...r},a.exports.createElement("g",{stroke:"currentColor",strokeWidth:1.5,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a.exports.createElement("line",{x1:1,y1:5.66666667,x2:10.3333333,y2:5.66666667}),a.exports.createElement("polyline",{id:"Path",points:"5.66666667 1 10.3333333 5.66666667 5.66666667 10.3333333"}))),X=r=>a.exports.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...r},a.exports.createElement("g",{stroke:"none"},a.exports.createElement("path",{d:"M8,0 C12.418278,0 16,3.581722 16,8 C16,12.418278 12.418278,16 8,16 C3.581722,16 0,12.418278 0,8 C0,3.581722 3.581722,0 8,0 Z M8,2 C4.6862915,2 2,4.6862915 2,8 C2,11.3137085 4.6862915,14 8,14 C11.3137085,14 14,11.3137085 14,8 C14,4.6862915 11.3137085,2 8,2 Z",id:"background",fill:"#D8D8D8"}),a.exports.createElement("path",{d:"M8,0 C12.418278,0 16,3.581722 16,8 L14,8 L14,8 C14,4.6862915 11.3137085,2 8,2 L8,0 L8,0 Z",id:"foreground",fill:"#818181"}))),G=a.exports.forwardRef(({label:r,error:t,className:n,wrapperClassName:d,sizeVariant:o,fullWidth:f,action:e,loading:M,...x},i)=>{const h=!!x.disabled;o=o!=null?o:"default";let u="bg-white border-gray-200 focus:border-blue-400";t&&(u="bg-red-50 border-red-200 focus:border-red-400 focus:ring-red-100 placeholder-red-300"),h&&(u="bg-gray-100");let E;e&&(E=s=>{x.onKeyUp&&x.onKeyUp(s),s.key=="Enter"&&(s.preventDefault(),e())});let c=b("input",{onKeyUp:E,className:m("block border rounded-md focus:ring-2 focus:outline-none px-2","dark:bg-dark-input-bg dark:border-dark-input-border",u,o=="big"?"py-2":"py-1",{"w-full":f},n),...x,ref:i});M?c=N("div",{className:"relative",children:[c,b(X,{"aria-label":"Loading",className:"absolute right-[8px] top-[7px] animate-spin"})]}):e&&(c=N("div",{className:m("relative inline-block",{"w-full":f}),children:[c,b("button",{disabled:h,"aria-label":"Submit",className:m("absolute top-[1px] right-0 p-2 text-gray-600 disabled:text-gray-400 disabled:cursor-default"),onClick:s=>(s.preventDefault(),s.stopPropagation(),e(),!1),children:b(Z,{className:m(o=="big"&&"w-4 h-4 mt-1 mr-1")})})]}));let w=null;t&&(w=b("div",{className:"text-red-800",children:t}));const y=m(o=="default"&&"text-sm",d);return r?N("label",{className:m(y,"block"),children:[b("span",{className:"block text-xs uppercase font-semibold mb-1",children:r}),c,w]}):N("div",{className:y,children:[c,w]})}),B=({variant:r,background:t})=>m("px-6 py-0.5 rounded border border-gray-200 focus:outline-none focus:border-blue-300 text-[#222] hover:bg-gray-100 whitespace-nowrap","dark:bg-dark-input-bg dark:border-dark-input-border dark:text-dark-input-text dark:focus:border-blue-300",r=="negative"&&"text-red-600 hover:bg-red-600 hover:border-red-700 hover:text-white transition-colors focus:border-red-600 focus:hover:border-red-700",r=="positive"&&"text-green-600 hover:bg-green-600 hover:border-green-700 hover:text-white transition-colors focus:border-green-600 focus:hover:border-green-700",t=="white"?"bg-white":"bg-gray-50"),Q=({className:r,variant:t,background:n,children:d,...o})=>b("input",{className:S(B({variant:t,background:n}),r),type:"submit",value:d,...o}),H=({children:r,variant:t,background:n,className:d,...o})=>b("button",{className:S(B({variant:t,background:n}),d),...o,children:r}),J=K.div.attrs({className:"flex gap-1"})``;export{H as B,Q as S,G as T,J as a,B as b,F as u};
