"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var yaml_1 = __importDefault(require("yaml"));
var types_1 = require("yaml/types");
var lodash_1 = require("lodash");
var ParseYaml = /** @class */ (function () {
    function ParseYaml(newJson, yamlData) {
        this.newJson = newJson;
        this.doc = yaml_1.default.parseDocument(yamlData);
    }
    ParseYaml.prototype.init = function () {
        var contents = this.doc.contents;
        if (contents instanceof types_1.YAMLMap) {
            var items = contents.items;
            var appName = lodash_1.get(this.newJson, 'appName');
            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i];
                if (item.key.value === 'name' && appName) {
                    item.value = yaml_1.default.createNode(appName);
                }
            }
        }
        return this.doc.toString();
    };
    return ParseYaml;
}());
function parse(newJson, yamlData) {
    return new ParseYaml(newJson, yamlData).init();
}
exports.default = parse;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tbW9uL2xvYWQvcGFyc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw4Q0FBc0M7QUFDdEMsb0NBQXFDO0FBQ3JDLGlDQUE2QjtBQUM3QjtJQUVFLG1CQUFvQixPQUFlLEVBQUUsUUFBZ0I7UUFBakMsWUFBTyxHQUFQLE9BQU8sQ0FBUTtRQUNqQyxJQUFJLENBQUMsR0FBRyxHQUFHLGNBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUNELHdCQUFJLEdBQUo7UUFDVSxJQUFBLFFBQVEsR0FBSyxJQUFJLENBQUMsR0FBRyxTQUFiLENBQWM7UUFDOUIsSUFBSSxRQUFRLFlBQVksZUFBTyxFQUFFO1lBQ3ZCLElBQUEsS0FBSyxHQUFLLFFBQVEsTUFBYixDQUFjO1lBQzNCLElBQU0sT0FBTyxHQUFHLFlBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzdDLEtBQW1CLFVBQUssRUFBTCxlQUFLLEVBQUwsbUJBQUssRUFBTCxJQUFLLEVBQUU7Z0JBQXJCLElBQU0sSUFBSSxjQUFBO2dCQUNiLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssTUFBTSxJQUFJLE9BQU8sRUFBRTtvQkFDeEMsSUFBSSxDQUFDLEtBQUssR0FBRyxjQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUN2QzthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUNILGdCQUFDO0FBQUQsQ0FBQyxBQWxCRCxJQWtCQztBQUVELFNBQVMsS0FBSyxDQUFDLE9BQWUsRUFBRSxRQUFnQjtJQUM5QyxPQUFPLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNqRCxDQUFDO0FBRUQsa0JBQWUsS0FBSyxDQUFDIn0=