"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var minimist_1 = __importDefault(require("minimist"));
function commandParse(inputs, opts) {
    // @ts-ignore
    var argsData = (inputs === null || inputs === void 0 ? void 0 : inputs.argsObj) || (inputs === null || inputs === void 0 ? void 0 : inputs.ArgsObj) || (inputs === null || inputs === void 0 ? void 0 : inputs.args) || (inputs === null || inputs === void 0 ? void 0 : inputs.Args);
    if (!argsData) {
        return { rawData: argsData, data: undefined };
    }
    var newArgv;
    if (typeof argsData == 'object') {
        newArgv = minimist_1.default(argsData, opts || {});
    }
    else {
        //     try {
        //       const tempResult = child_process.execSync(`${process.argv[0]} ${path.join(__dirname, 'args.js')} ${argsData}`)
        //       const tempOutput = tempResult.toString()
        //       const tempArgv = tempOutput.substring(0, tempOutput.length - 1)
        //       newArgv = minimist(tempArgv.split(/--serverless-devs--core--parse--/g), opts || {})
        //     }catch (e){
        newArgv = minimist_1.default(argsData.split(/[\s]+/g), opts || {});
        //     }
    }
    return {
        rawData: argsData,
        data: newArgv,
    };
}
exports.default = commandParse;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZFBhcnNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbW1vbi9jb21tYW5kUGFyc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxzREFBZ0M7QUFFaEMsU0FBUyxZQUFZLENBQUMsTUFBZSxFQUFFLElBQWE7SUFDbEQsYUFBYTtJQUNiLElBQUksUUFBUSxHQUFHLENBQUEsTUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLE9BQU8sTUFBSSxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsT0FBTyxDQUFBLEtBQUksTUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLElBQUksQ0FBQSxLQUFJLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxJQUFJLENBQUEsQ0FBQztJQUNsRixJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ2IsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxDQUFDO0tBQy9DO0lBQ0QsSUFBSSxPQUFPLENBQUM7SUFDWixJQUFJLE9BQU8sUUFBUSxJQUFJLFFBQVEsRUFBRTtRQUMvQixPQUFPLEdBQUcsa0JBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQzFDO1NBQU07UUFDTCxZQUFZO1FBQ1osdUhBQXVIO1FBQ3ZILGlEQUFpRDtRQUNqRCx3RUFBd0U7UUFDeEUsNEZBQTRGO1FBQzVGLGtCQUFrQjtRQUNsQixPQUFPLEdBQUcsa0JBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztRQUN6RCxRQUFRO0tBQ1Q7SUFDRCxPQUFPO1FBQ0wsT0FBTyxFQUFFLFFBQVE7UUFDakIsSUFBSSxFQUFFLE9BQU87S0FDZCxDQUFDO0FBQ0osQ0FBQztBQUVELGtCQUFlLFlBQVksQ0FBQyJ9